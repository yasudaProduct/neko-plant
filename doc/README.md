# AI機能導入に関するドキュメント

このディレクトリには、neko-plantアプリケーションへのAI機能導入に関する設計書と実装ガイドが含まれています。

## 📚 ドキュメント一覧

### 1. [AI機能導入の検討結果まとめ](./ai-features-summary.md) ⭐ **まずはこちらをお読みください**

**対象読者：** 全ステークホルダー（開発者、プロダクトマネージャー、経営陣）

**内容：**
- エグゼクティブサマリー
- 主要な提案の概要
- 推奨実装順序
- コスト見積もり
- 期待される効果（KPI）
- 次のアクション

**所要時間：** 10-15分

---

### 2. [AI機能の導入設計書](./ai-features-design.md) 📋 **詳細設計**

**対象読者：** プロダクトマネージャー、アーキテクト、リードエンジニア

**内容：**
- 背景と現状の課題分析
- AI機能の詳細提案（3つの主要機能）
- 重複検知戦略の詳細
- 技術選択肢の比較
- データベース設計
- 実装ロードマップ（フェーズ1-4）
- リスク分析と緩和策
- 成功指標（KPI）

**所要時間：** 30-45分

---

### 3. [AI機能実装ガイド](./ai-features-implementation-guide.md) 🔧 **実装詳細**

**対象読者：** 開発エンジニア

**内容：**
- 環境セットアップ手順
- Google Cloud Vision APIの設定
- データベースマイグレーション
- コード例（TypeScript）
  - AI APIクライアント
  - 植物識別機能
  - 画像分類機能
  - Server Actions
  - UIコンポーネント
- テストコード例
- モニタリングとロギング
- パフォーマンス最適化
- デプロイメント手順
- トラブルシューティング

**所要時間：** 1-2時間（実装時は参照しながら）

---

### 4. [AI機能のフローチャート](./ai-features-flowchart.md) 📊 **視覚的理解**

**対象読者：** 全員

**内容：**
- 植物登録フロー（AI統合後）
- 画像アップロードフロー（AI統合後）
- 管理者モデレーションフロー
- 重複チェックフロー
- 表示優先度による画像ソート
- システム全体のデータフロー
- AI APIコール最適化フロー

**所要時間：** 15-20分

---

## 🎯 読む順序の推奨

### シナリオ1：意思決定者・プロダクトマネージャー

1. **[AI機能導入の検討結果まとめ](./ai-features-summary.md)** ← まずこれを読む
2. **[AI機能のフローチャート](./ai-features-flowchart.md)** ← 視覚的に理解
3. **[AI機能の導入設計書](./ai-features-design.md)** ← 詳細を確認（必要に応じて）

### シナリオ2：アーキテクト・リードエンジニア

1. **[AI機能導入の検討結果まとめ](./ai-features-summary.md)** ← 全体像を把握
2. **[AI機能の導入設計書](./ai-features-design.md)** ← 詳細設計を確認
3. **[AI機能のフローチャート](./ai-features-flowchart.md)** ← フローを理解
4. **[AI機能実装ガイド](./ai-features-implementation-guide.md)** ← 実装方法を確認

### シナリオ3：実装担当の開発者

1. **[AI機能のフローチャート](./ai-features-flowchart.md)** ← フローを理解
2. **[AI機能実装ガイド](./ai-features-implementation-guide.md)** ← 実装方法を確認
3. **[AI機能の導入設計書](./ai-features-design.md)** ← 背景を理解（必要に応じて）

---

## 📝 主要な提案のサマリー

### 1. AI画像分類・モデレーション機能 🥇 **最優先**

**目的：** 画像を自動分類し、管理者の承認作業を削減

**効果：**
- 管理者の作業時間 **50%削減**
- 画像承認プロセスの **70%を自動化**
- コンテンツの質を向上

**分類：**
- 🌿🐱 植物と猫の両方 → 自動承認（信頼度90%以上）
- 🌿 植物のみ → 自動承認（信頼度95%以上）
- 🐱 猫のみ → 手動レビュー
- ❌ どちらでもない → 管理者レビュー対象

---

### 2. AI植物識別機能 🥈 **第2優先**

**目的：** 画像から植物を自動識別し、重複を防止

**効果：**
- ユーザー体験の大幅向上
- 植物重複率を **10%未満**に削減
- 新規植物登録数 **20%増加**

**フロー：**
```
画像アップロード → AI識別 → 既存植物との照合 → ユーザー確認 → 登録
```

---

### 3. その他のAI機能 🥉 **長期的**

- 評価コメントの感情分析
- 植物安全性スコアリング
- 類似植物レコメンデーション
- 自動タグ付け
- チャットボット

---

## 💰 コスト見積もり

### 初期段階（月間）
- 植物識別：1,000回 = **$3**
- 画像分類：2,000回 = **$4**
- **合計：約$7/月**

### スケール時（月間）
- 植物識別：10,000回 = **$30**
- 画像分類：20,000回 = **$40**
- **合計：約$70/月**

---

## 🚀 実装ロードマップ

### フェーズ1：基盤構築（1-2ヶ月）
- Google Cloud Vision APIのセットアップ
- データベーススキーマ拡張
- AI APIクライアント実装

### フェーズ2：AI画像分類（1-2ヶ月）⭐ **最優先**
- 画像分類ロジック実装
- 自動承認機能実装
- 管理画面改善

### フェーズ3：AI植物識別（2-3ヶ月）
- 植物識別ロジック実装
- ファジーマッチング実装
- 植物登録UI拡張

### フェーズ4：追加AI機能（柔軟に対応）
- 評価コメント分析
- 安全性スコアリング
- レコメンデーション
- など

---

## 🔑 重要な決定事項

### ✅ 推奨する方針

1. **AI画像分類・モデレーション機能を最優先で実装**
   - 即座に効果が得られる
   - 実装が比較的シンプル
   - 明確なROI

2. **植物の重複は許容しない（現状維持）**
   - データの整合性を維持
   - AI + ファジーマッチングで対応

3. **段階的な導入でリスクを最小化**
   - まずオプション機能として追加
   - フィードバックを収集して改善
   - 精度が確認できたらデフォルト化

4. **Google Cloud Vision APIを使用**
   - コストパフォーマンスが良好
   - 植物識別の精度が高い

---

## 📞 次のアクション

### 即座に実施すべきこと

1. ✅ **ステークホルダーレビュー**
   - この設計書をレビュー
   - フィードバックを収集
   - 優先順位を最終確認

2. 📋 **技術検証（PoC）**
   - Google Cloud Vision APIのテスト
   - 精度とコストの確認
   - 小規模プロトタイプの開発

### 承認後に実施すること

3. 🔧 **環境セットアップ**
   - Google Cloudアカウント作成
   - Vision APIの有効化
   - 開発環境の準備

4. 👥 **開発開始**
   - フェーズ1（基盤構築）から着手
   - フェーズ2（画像分類）を優先実装
   - 段階的なロールアウト

---

## 📚 関連資料

- [現在のSupabase設計書](./supabase.md)
- [E2Eテストガイド](./e2e.md)
- [Prismaスキーマ](/prisma/schema.prisma)
- [植物登録アクション](/src/actions/plant-action.ts)

---

## ❓ よくある質問（FAQ）

### Q1: 現在の機能フローは大きく変わりますか？

**A:** いいえ。提案する実装は既存フローの「拡張」であり、「置き換え」ではありません。既存の手動入力も引き続き使用できます。

### Q2: 植物の重複は許可すべきですか？

**A:** いいえ（推奨しません）。データの整合性を維持するため、重複を許容しない現在の方針を継続し、AI + ファジーマッチングで重複を最小化することを推奨します。

### Q3: どの機能から実装すべきですか？

**A:** AI画像分類・モデレーション機能を最優先で実装することを推奨します。即座に管理者の負担を軽減でき、明確なROIが得られます。

### Q4: コストはどのくらいかかりますか？

**A:** 初期段階で月間約$7、スケール時で月間約$70程度を見込んでいます。キャッシュ実装でさらに削減可能です。

### Q5: 実装にどのくらいの時間がかかりますか？

**A:** 
- フェーズ1（基盤）：1-2ヶ月
- フェーズ2（画像分類）：1-2ヶ月
- フェーズ3（植物識別）：2-3ヶ月
- 合計：4-7ヶ月（段階的リリース）

---

## 📧 お問い合わせ

このドキュメントに関する質問や提案は、開発チームまでお問い合わせください。

---

**作成日：** 2026-02-03  
**最終更新：** 2026-02-03  
**ステータス：** レビュー待ち
